<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="680px" preserveAspectRatio="none" style="width:1381px;height:680px;background:#FFFFFF;" version="1.1" viewBox="0 0 1381 680" width="1381px" zoomAndPan="magnify"><defs><filter height="300%" id="f996sucav629i" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f996sucav629i)" height="485.9219" style="stroke:#A80036;stroke-width:1.0;" width="10" x="54" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f996sucav629i)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="161.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f996sucav629i)" height="424.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="373.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f996sucav629i)" height="363.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="586.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f996sucav629i)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="515.8281"/><rect fill="#FFFFFF" filter="url(#f996sucav629i)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1177" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f996sucav629i)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1308" y="455.4766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="59" x2="59" y1="89.6094" y2="594.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="166" x2="166" y1="89.6094" y2="594.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="378" x2="378" y1="89.6094" y2="594.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="591" x2="591" y1="89.6094" y2="594.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="834.5" x2="834.5" y1="89.6094" y2="594.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1046" x2="1046" y1="89.6094" y2="594.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1182" x2="1182" y1="89.6094" y2="594.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1313" x2="1313" y1="89.6094" y2="594.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="5" y="86.5332">Registered User</text><ellipse cx="59" cy="15" fill="#FEFECE" filter="url(#f996sucav629i)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M59,23 L59,50 M46,31 L72,31 M59,50 L46,65 M59,50 L72,65 " fill="none" filter="url(#f996sucav629i)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="5" y="608.0645">Registered User</text><ellipse cx="59" cy="621.1406" fill="#FEFECE" filter="url(#f996sucav629i)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M59,629.1406 L59,656.1406 M46,637.1406 L72,637.1406 M59,656.1406 L46,671.1406 M59,656.1406 L72,671.1406 " fill="none" filter="url(#f996sucav629i)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f996sucav629i)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="83" x="123" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="130" y="56.9238">&lt;&lt;REST&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="154" y="74.5332">API</text><rect fill="#FEFECE" filter="url(#f996sucav629i)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="83" x="123" y="593.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="130" y="615.0645">&lt;&lt;REST&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="154" y="632.6738">API</text><rect fill="#FEFECE" filter="url(#f996sucav629i)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="133" x="310" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="317" y="56.9238">&lt;&lt;API Controller&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="325.5" y="74.5332">PlayerController</text><rect fill="#FEFECE" filter="url(#f996sucav629i)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="133" x="310" y="593.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="317" y="615.0645">&lt;&lt;API Controller&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="325.5" y="632.6738">PlayerController</text><rect fill="#FEFECE" filter="url(#f996sucav629i)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="145" x="517" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="524" y="56.9238">&lt;&lt;Domain Service&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="546" y="74.5332">PlayerService</text><rect fill="#FEFECE" filter="url(#f996sucav629i)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="145" x="517" y="593.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="524" y="615.0645">&lt;&lt;Domain Service&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="546" y="632.6738">PlayerService</text><rect fill="#FEFECE" filter="url(#f996sucav629i)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="94" x="785.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="792.5" y="56.9238">&lt;&lt;Domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="812.5" y="74.5332">Player</text><rect fill="#FEFECE" filter="url(#f996sucav629i)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="94" x="785.5" y="593.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="792.5" y="615.0645">&lt;&lt;Domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="812.5" y="632.6738">Player</text><rect fill="#FEFECE" filter="url(#f996sucav629i)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="121" x="984" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1013.5" y="56.9238">&lt;&lt;DTO&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="991" y="74.5332">UpdatePlayerDto</text><rect fill="#FEFECE" filter="url(#f996sucav629i)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="121" x="984" y="593.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1013.5" y="615.0645">&lt;&lt;DTO&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="991" y="632.6738">UpdatePlayerDto</text><rect fill="#FEFECE" filter="url(#f996sucav629i)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="122" x="1119" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1127" y="56.9238">&lt;&lt;Persistence&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1126" y="74.5332">PlayerRepository</text><rect fill="#FEFECE" filter="url(#f996sucav629i)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="122" x="1119" y="593.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1127" y="615.0645">&lt;&lt;Persistence&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1126" y="632.6738">PlayerRepository</text><rect fill="#FEFECE" filter="url(#f996sucav629i)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="112" x="1255" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1262" y="56.9238">&lt;&lt;DbContext&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="1275" y="74.5332">UnitOfWork</text><rect fill="#FEFECE" filter="url(#f996sucav629i)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="112" x="1255" y="593.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1262" y="615.0645">&lt;&lt;DbContext&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="1275" y="632.6738">UnitOfWork</text><rect fill="#FFFFFF" filter="url(#f996sucav629i)" height="485.9219" style="stroke:#A80036;stroke-width:1.0;" width="10" x="54" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f996sucav629i)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="161.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f996sucav629i)" height="424.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="373.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f996sucav629i)" height="363.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="586.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f996sucav629i)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="515.8281"/><rect fill="#FFFFFF" filter="url(#f996sucav629i)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1177" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f996sucav629i)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1308" y="455.4766"/><polygon fill="#A80036" points="149.5,117.9609,159.5,121.9609,149.5,125.9609,153.5,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="155.5" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="71" y="117.1045">PUT Player</text><polygon fill="#A80036" points="361.5,148.3125,371.5,152.3125,361.5,156.3125,365.5,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="166.5" x2="367.5" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="173.5" y="147.4561">UpdateProfile(UpdatePlayerDto)</text><polygon fill="#A80036" points="574.5,178.6641,584.5,182.6641,574.5,186.6641,578.5,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="383.5" x2="580.5" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="390.5" y="177.8076">UpdateAsync(UpdatePlayerDto)</text><polygon fill="#A80036" points="1165,209.0156,1175,213.0156,1165,217.0156,1169,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="596.5" x2="1171" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="603.5" y="208.1592">player = GetByEmailAsync(email)</text><polygon fill="#A80036" points="822.5,269.3672,832.5,273.3672,822.5,277.3672,826.5,273.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="596.5" x2="828.5" y1="273.3672" y2="273.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="603.5" y="268.5107">ChangeName(fullName)</text><polygon fill="#A80036" points="822.5,299.7188,832.5,303.7188,822.5,307.7188,826.5,303.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="596.5" x2="828.5" y1="303.7188" y2="303.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="603.5" y="298.8623">ChangeDateOfBirth(dateOfBirth)</text><polygon fill="#A80036" points="822.5,330.0703,832.5,334.0703,822.5,338.0703,826.5,334.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="596.5" x2="828.5" y1="334.0703" y2="334.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="603.5" y="329.2139">LinkFacebook(facebookProfile)</text><polygon fill="#A80036" points="822.5,360.4219,832.5,364.4219,822.5,368.4219,826.5,364.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="596.5" x2="828.5" y1="364.4219" y2="364.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="603.5" y="359.5654">LinkLinkedin(linkedinProfile)</text><polygon fill="#A80036" points="822.5,390.7734,832.5,394.7734,822.5,398.7734,826.5,394.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="596.5" x2="828.5" y1="394.7734" y2="394.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="603.5" y="389.917">ChangePhoneNumber(phoneNumber)</text><polygon fill="#A80036" points="822.5,421.125,832.5,425.125,822.5,429.125,826.5,425.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="596.5" x2="828.5" y1="425.125" y2="425.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="603.5" y="420.2686">ChangeTags(tags)</text><polygon fill="#A80036" points="1296,451.4766,1306,455.4766,1296,459.4766,1300,455.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="596.5" x2="1302" y1="455.4766" y2="455.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="603.5" y="450.6201">CommitAsync()</text><polygon fill="#A80036" points="817.5,511.8281,827.5,515.8281,817.5,519.8281,821.5,515.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="596.5" x2="823.5" y1="515.8281" y2="515.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="603.5" y="510.9717">response = ToDto()</text><polygon fill="#A80036" points="1034.5,542.1797,1044.5,546.1797,1034.5,550.1797,1038.5,546.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="834.5" x2="1040.5" y1="546.1797" y2="546.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="841.5" y="541.3232">create(email, phoneNumber, ...)</text><polygon fill="#A80036" points="75,572.5313,65,576.5313,75,580.5313,71,576.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69" x2="377.5" y1="576.5313" y2="576.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="81" y="571.6748">response JSON</text><!--MD5=[d29db875f3a6f044c17b5d98efe2cdb5]
@startuml

actor "Registered User" as UNU
participant "<<REST>>\nAPI" as API
participant "<<API Controller>>\nPlayerController" as PC
participant "<<Domain Service>>\nPlayerService" as PS
participant "<<Domain>>\nPlayer" as P
participant "<<DTO>>\nUpdatePlayerDto" as PDTO
participant "<<Persistence>>\nPlayerRepository" as PR
participant "<<DbContext>>\nUnitOfWork" as UW

activate UNU
UNU -> API: PUT Player

activate API
API -> PC: UpdateProfile(UpdatePlayerDto)
deactivate API

activate PC






PC -> PS : UpdateAsync(UpdatePlayerDto)

activate PS 
PS -> PR : player = GetByEmailAsync(email)
activate PR 
deactivate PR


PS -> P: ChangeName(fullName)
PS -> P: ChangeDateOfBirth(dateOfBirth)
PS -> P: LinkFacebook(facebookProfile)
PS -> P: LinkLinkedin(linkedinProfile)
PS -> P: ChangePhoneNumber(phoneNumber)
PS -> P: ChangeTags(tags)



PS -> UW : CommitAsync()

activate UW
deactivate UW


PS -> P: response = ToDto()
activate P
P - -> PDTO: create(email, phoneNumber, ...)

deactivate P





deactivate PS


PC - -> UNU : response JSON
deactivate PC

@enduml

PlantUML version 1.2021.7(Sun May 23 13:40:07 BST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>